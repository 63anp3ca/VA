<!DOCTYPE html>
<html>
  <head>
   <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <script src="https://d3js.org/d3.v4.min.js"></script>
   <script src="https://d3js.org/queue.v1.min.js"></script>
   <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.11.0/d3-legend.min.js"></script>
   <script src="https://d3js.org/d3-time.v1.min.js"></script>
   <script src="https://d3js.org/d3-time-format.v2.min.js"></script>
   <script src="https://d3js.org/d3-color.v1.min.js"></script>
   <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
   <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script type="text/javascript" src="js/map.js"></script>
   <script type="text/javascript" src="js/red.js"></script>
   <script type="text/javascript" src="js/line.js"></script>

   <link href="css/jumbotron.css" rel="stylesheet">

   <link href="css/bootstrap.min.css" rel="stylesheet">

   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">


    <style>
      
        svg {
                border: 1px solid gray
                ;
          }

        div.tooltip { 
          position: absolute;
          text-align: center;
         /* height: 50px;*/
          padding: 10px;
          font: 11px sans-serif;
          background: #dadaeb;
          box-shadow: 0 0 5px #999999;
          display: block;
          color: #333;
          border: 0px;
          border-radius: 0px;
          pointer-events: none;
          text-align: left;
        }

       rect {
            fill: red;
            stroke: black;
            stroke-width: 1;
          }
          .dot {
            opacity: 0.5;
            fill: #54278f;
          }
          
         /* line {
              fill: none;
              stroke: #ffab00;
              stroke-width: 3;
              shape-rendering: crispEdges;
          }*/
          
          .axis path,
          .axis line {
              fill: none;
              stroke: grey;
              stroke-width: 1;
              shape-rendering: crispEdges;
    }

 </style>
 </head>
      <body >
             <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
                  <a class="navbar-brand" href="#">VA</a>
                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>

                  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                    <ul class="navbar-nav mr-auto">
                      <li class="nav-item active">
                        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link disabled" href="#">Disabled</a>
                      </li>
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                        <div class="dropdown-menu" aria-labelledby="dropdown01">
                          <a class="dropdown-item" href="#">Action</a>
                          <a class="dropdown-item" href="#">Another action</a>
                          <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                      </li>
                    </ul>
                    <form class="form-inline my-2 my-lg-0">
                      <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
                      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                    </form>
                  </div>
                </nav>

          <main role="main">
                  <!-- Main jumbotron for a primary marketing message or call to action -->
                    <div class="jumbotron">
                      <div class="container">
                        <img src="img/logodatasketch.png" alt="..">
                        <p><p>
                        <p>Datasketch es una plataforma digital de periodismo de investigación y de datos. Nuestro portal permite que periodistas, científicos de datos, científicos sociales y la ciudadanía en general pueda aprender y consultar sobre visualizaciones de datos, herramientas, software e investigaciones profundas sobre diversos temas coyunturales. Contamos con herramientas gratuitas de datos y diferentes proyectos para tender un puente entre los datos y la ciudadanía que facilite la democratización del conocimiento y una revisión crítica de las realidades sociales a partir de contrastes de información.</p>
                        <p><a class="btn btn-primary btn-lg" href="https://www.datasketch.co " role="button">Visitar Datasketch &raquo;</a><p>
                      </div>
                    </div>
                    <div class="container">
                      <!-- Example row of columns -->
                      <div class="row">
                        <div class="col-md-4">
                          <h2>Contratación Pública y Redes de Financiamiento de Campañas</h2>
                          <p>Este análisis surge con el deseo de visualizar y alertar sobre las irregularidades en el financiamiento de campañas y la contratación pública en Colombia.  De acuerdo con la Misión de Observación Electoral (MOE), financiar campañas políticas podría ser el mejor negocio de inversión en el país porque se obtienen ganancias por encima del 300%.  <br/> Visibilizar el problema es una forma de aportar a la solución y así, cuantos más ojos haya sobre la contratación pública, más fácil será reducir los 50 Billones que se pierden al año por corrupción.</p>
                          <!-- <p><a class="btn btn-secondary" href="#" role="button">View details &raquo;</a></p> -->
                        </div>
                        <div class="col-md-4">
                          <h2>Metodología</h2>
                          <p>El marco metodológico de Tamara Munzner, nos guía bajo un lenguaje común a realizar abstracciones de datos y tareas, propias del problema de negocio que nos provee Datasketch, y que nos ayuda a seleccionar las mejores visualizaciones para generar insight en los usuarios de la herramienta, propias del contexto del problema. </p>
                          <p><a  href="https://www.cs.ubc.ca/~tmm/vadbook/" >https://www.cs.ubc.ca/~tmm/vadbook/ &raquo;</a></p>

                          <p>Los resultados fueron revisados y completados con los investigadores Datasketch que han trabajado en el tema y conocen la realidad de la situación, como la norma que indica que aquel que done más del 2% a una campaña política no puede contratar en el mismo municipio.<br/> La construcción de este proyecto, al igual que el análisis de la información, lo hicimos con D3.</p>

                          <p><a  href="https://d3js.org/  " >https://d3js.org/  &raquo;</a></p>


                         <!--  <p><a class="btn btn-secondary" href="#" role="button">View details &raquo;</a></p> -->
                        </div>
                        <div class="col-md-4">
                          <h2>Datos</h2>
                          <p>Toda la información de los contratos que celebran entidades públicas o privadas a nombre del Estado debe quedar consignada en Colombia Compra Eficiente para que cualquier ciudadano pueda verla y, si detecta alguna irregularidad, actuar.</p>

                          <p><a  href="https://www.colombiacompra.gov.co/ " >https://www.colombiacompra.gov.co/  &raquo;</a></p>
                          <p> Los datos sobre la financiación de campañas se encuentran registrado en el Consejo Nacional Electoral y su aplicativo Cuentas Claras para que pueda ser consultada por los ciudadanos de acuerdo con el objetivo de transparencia del gobierno de Colombia.</p>
                          <p><a  href="http://www.cnecuentasclaras.com/ " >http://www.cnecuentasclaras.com/  &raquo;</a></p>
                          <p><a class="btn btn-secondary" href="http://elecciones-contratos.monitorciudadano.co/candidatos" role="button">Visualizar Datos &raquo;</a></p> 
                        </div>
                      </div>

                      <hr>
                   </div> <!-- /container -->
                   <div class='container'>   
                    <form>
                        <h4>Ingrese parametros de consulta:</h4>
                        <div class="row">
                          <div class="col">
                              <label for="exampleFormControlSelect1">Seleccione la Campaña:</label>
                              <select class="form-control" id="campana">
                                    <option value="Congreso 2018-Camara de Representates">Congreso 2018-Camara de Representates</option>
                                    <option value="Congreso 2018-Senado de la Republica">Congreso 2018-Senado de la Republica</option>
                                    <option value="Regionales 2015-Alcaldia">Regionales 2015-Alcaldia</option>
                                    <option value="Regionales 2015-Asamblea">Regionales 2015-Asamblea</option>
                                    <option value="Regionales 2015-Concejo">Regionales 2015-Concejo</option>
                                    <option value="Regionales 2015-Gobernacion">Regionales 2015-Gobernacion</option>
                              </select>
                          </div>
                          <div class="col">
                               <label for="exampleFormControlSelect1">Seleccione el Departamento:</label>
                              <select class="form-control"  id="dpto">  <!-- onchange="loadCircularHeatMap(value, document.getElementById('campana').value)"  -->
                                      <option value="TODOS">TODOS</option>
                                      <option value="AMAZONAS">AMAZONAS</option>
                                      <option value="ANTIOQUIA">ANTIOQUIA</option>
                                      <option value="ARAUCA">ARAUCA</option>
                                      <option value="ARCHIPIELAGO DE SAN ANDRES PROVIDENCIA Y SANTA CATALINA">ARCHIPIELAGO DE SAN ANDRES PROVIDENCIA Y SANTA CATALINA</option>
                                      <option value="ATLANTICO">ATLANTICO</option>
                                      <option value="BOLIVAR">BOLIVAR</option>
                                      <option value="BOYACA">BOYACA</option>
                                      <option value="CALDAS">CALDAS</option>
                                      <option value="CAQUETA">CAQUETA</option>
                                      <option value="CASANARE">CASANARE</option>
                                      <option value="CAUCA">CAUCA</option>
                                      <option value="CESAR">CESAR</option>
                                      <option value="CHOCO">CHOCO</option>
                                      <option value="CORDOBA">CORDOBA</option>
                                      <option value="CUNDINAMARCA">CUNDINAMARCA</option>
                                      <option value="GUAINIA">GUAINIA</option>
                                      <option value="GUAVIARE">GUAVIARE</option>
                                      <option value="HUILA">HUILA</option>
                                      <option value="LA GUAJIRA">LA GUAJIRA</option>
                                      <option value="MAGDALENA">MAGDALENA</option>
                                      <option value="META">META</option>
                                      <option value="NARINO">NARIÑO</option>
                                      <option value="NORTE DE SANTANDER">NORTE DE SANTANDER</option>
                                      <option value="PUTUMAYO">PUTUMAYO</option>
                                      <option value="QUINDIO">QUINDIO</option>
                                      <option value="RISARALDA">RISARALDA</option>
                                      <option value="SANTAFE DE BOGOTA D.C">SANTAFE DE BOGOTA D.C</option>
                                      <option value="SANTANDER">SANTANDER</option>
                                      <option value="SUCRE">SUCRE</option>
                                      <option value="TOLIMA">TOLIMA</option>
                                      <option value="VALLE DEL CAUCA">VALLE DEL CAUCA</option>
                                      <option value="VAUPES">VAUPES</option>
                                      <option value="VICHADA">VICHADA</option>
                              </select>
                          </div>
                          <div class="col">
                                 <label for="exampleFormControlSelect1"></label>
                                 <p><a class="btn btn-secondary" onclick="loadCircularHeatMap(document.getElementById('dpto').value, document.getElementById('campana').value)" role="button">Generar Consulta &raquo;</a></p> 
                           </div>
                        </div>
                    </form>
                  </div>
                 <div id="chart" class='container' >
                    <!--  <div class='container' style="background-color: #cacaca;" > -->
                     <p></b></p> 
                     <h3 ALIGN=center><b> Comportamiento de Financiación de campañas por Departamento.</b></h3>
                     <p>En este mapa se presentan los departamentos de los candidatos que recibieron financiamiento para sus campañas.  En las listas disponibles debe seleccionar la campaña, año y departamento sobre los cuales se desea conocer el comportamiento de financiamiento.  Al hacer doble click en cualquier parte del mapa podrá acceder a la red de campañas y financiadores, incluyendo su parentesco. Adicionalmente, al pasar sobre los distintos departamentos se muestra un mensaje emergente con la información con el monto total de financiamiento a la campaña.</p>
                     <svg  width=300 height=500  id="zooms"  ></svg>
                     <svg  width=700 height=500  id="main"></svg>
                     <script src="js/map.js">  </script> 
                 </div>
               <div id="chart2"  style="display:none;" class='container' >
                       <h3 ALIGN=center><b>Red de financiamiento de Candidatos por departamento.</b></h3>
                       <p>La red de financiadores de campañas.  Esta visualización permite: - Conocer la red de financiadores de campañas y su historial parentesco con el candidato.  ¿Cómo explorar la red? 
                       Para obtener el detalle de un Candidato o Financiador de campaña, haga 'click' en los botones azules para conocer los candidatos o los purpuras para conocer los financiadores, en el enlace se pueden conocer los detalles de parentesco. Para regresar a la visualización general de la red vuelva a hacer 'click' en alguno de los círculos de color.  </p> 
                       <form>
                           <div class="row">
                              <div class="col">
                                   <h4>Ingrese parametros de consulta:</h4>
                                    <div class="form-group">
                                          <label>Seleccione relación:</label>
                                          <select class="form-control" 
                                            onchange="loadCircularHeatRed(document.getElementById('dpto').value, 
                                                                          document.getElementById('campana').value,value)" id="relacion">
                                            <option value="NA">Sin Parentesco</option>
                                            <option value="si">Parentesco</option>
                                            <option value="todos">TODOS</option>
                                          </select>
                                    </div>  
                              </div>
                             <div class="col">  
                                    <img src="img/redLeyenda.jpg" width="500" height="100" alt="..">
                             </div>
                          </div>  
                       
                       </form>     
                       <svg  width=1000 height=600 id="network"></svg>
                       <script src="js/red.js">  </script> 
                </div>
                <div id="chart3" style="display:none;" class='container'>
                       <h3 ALIGN=center><b> Comportamiento en celebración de contratos públicos por el financiador.</b></h3>
                       <p> Esta visualización de los datos de financiadores y contratos públicos, presenta la cantidad de contratos y la sumatoria de los montos de contratos para el periodo de años comprendidas del 2006 al 2018.  Al situarse en los puntos se desplegará información con los detalles de montos totales. </p>   
                       <svg  width=1000 height=550 id="line" ></svg>    
                       <script src="js/line.js">  </script>      
                </div>
                <script>  loadCircularHeatMap("COLOMBIA","");  </script>
        </main>
        <!--  <script>  loadCircularHeatRed("BOLIVAR","2015","Alcaldia");  </script> -->
        <footer style="background-color: #cacaca;
                        margin: 0;
                        margin-left: 1px;
                        max-width: 99%;
                        height: 111px;" class="container">
                <div class="row">
                    <div class="col">
                          <p>&copy; Company 2017-2018</p>
                    </div>
                    <div class="col">
                          <p>Iván Romero Flórez 201717315<br> Gerardo Pérez Clavijo 201519403 <br>Stanley Melo Fontalvo 201723966<br> </p>
                    </div>
                    <div class="col"  align="right"> 
                        <a href="ddddd"><i class="fab fa-facebook fa-2x"></i></a>
                        <a href="ddddd"><i class="fab fa-twitter-square fa-2x"></i></a>
                        <a href="ddddd"><i class="fas fa-envelope fa-2x"></i></a>
                    </div>
                </div>      
        </footer>
        <script src="js/popper.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
    </body>
</html>